<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>brian.dawn.lol</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>

  <div>
    <a href="/">Home</a>
    <a href="/blog">Blog Posts</a>
    <a href="/list">Lists</a>
  </div>
  <body>
    <section class="section">
      <div class="container">
        
<h1 class="title">
  How I manage my dotfiles
</h1>
<p class="subtitle"><strong>2020-06-12</strong></p>
<p><p>Over the years I've used several different methods of tracking my dotfiles. I've been using a specific method
of leveraging git that I have been using for many years now without change. Running <code>git init</code> inside your
home directory is not ideal because it means that your tools will always think you are inside a git repo
anywhere that you are. All credit for this method goes to user StreakyCobra on the
<a href="https://news.ycombinator.com/item?id=11070797">dreaded orange site</a>.</p>
<p>With that said here's what I did to start using this way of doing things:</p>
<pre style="background-color:#fcf0ca;">
<code>git init --bare $HOME/.dotfiles-repo
alias config='/usr/bin/git --git-dir=$HOME/.dotfiles-repo/ --work-tree=$HOME'
config config status.showUntrackedFiles no
</code></pre>
<p>Then add:</p>
<pre style="background-color:#fcf0ca;">
<code>alias config='/usr/bin/git --git-dir=$HOME/.dotfiles-repo/ --work-tree=$HOME'
</code></pre>
<p>To your bashrc to ensure you always get this alias. So we created a repo that's not at our home directory level, and then create a new alias command
that uses that hidden repo as the working tree. What does this let us do?</p>
<p>We can track new files with:</p>
<pre style="background-color:#fcf0ca;">
<code>config status
config add .vimrc
config commit -m &quot;Add vimrc&quot;
config add .config/redshift.conf
config commit -m &quot;Add redshift config&quot;
config push
</code></pre>
<p>I use branches to track differences between my Linux and MacOS machines just like you would with regular git.</p>
<p>On new machines you can do:</p>
<pre style="background-color:#fcf0ca;">
<code>git clone --bare [your-dotfiles-repo] $HOME/.dotfiles-repo
</code></pre>
<p>We need to create the same alias as before:</p>
<pre style="background-color:#fcf0ca;">
<code>alias config='/usr/bin/git --git-dir=$HOME/.dotfiles-repo/ --work-tree=$HOME'
</code></pre>
<p>Now we are ready to initialize all our files from the repo. You can do this with:</p>
<pre style="background-color:#fcf0ca;">
<code>config checkout
</code></pre>
<p>You will probably have file conflicts since git will refuse to overwrite files that already exist. You can either delete/backup these files by hand, or if you are like me and need an adrenaline rush you can just force overwrite them:</p>
<pre style="background-color:#fcf0ca;">
<code>config checkout -f
</code></pre>
<p>Finally we need to make it so we don't see every other file in our home directory
that isn't tracked:</p>
<pre style="background-color:#fcf0ca;">
<code>config config status.showUntrackedFiles no
</code></pre>
<p>Now your system is ready to go!</p>
</p>

      </div>
    </section>
  </body>
</html>
